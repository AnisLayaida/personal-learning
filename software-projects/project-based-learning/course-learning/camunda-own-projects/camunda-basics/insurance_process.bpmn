<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_04lud9v" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.38.1" modeler:executionPlatform="Camunda Platform" modeler:executionPlatformVersion="7.23.0">
  <bpmn:process id="insurance_process" name="InsuranceProcess" isExecutable="true" camunda:historyTimeToLive="180">
    <bpmn:task id="Activity_1gz7vk2" name="Message sent to policyholder">
      <bpmn:incoming>Flow_1p86iiy</bpmn:incoming>
      <bpmn:outgoing>Flow_1ns6heq</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_1bnitip" name="Message sent to policyholder">
      <bpmn:incoming>Flow_0jbzitx</bpmn:incoming>
      <bpmn:outgoing>Flow_1kcjudo</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_09w6bed" name="Rejected">
      <bpmn:incoming>Flow_0v3fr6j</bpmn:incoming>
      <bpmn:incoming>Flow_012lagy</bpmn:incoming>
      <bpmn:outgoing>Flow_1p86iiy</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_0x4zhym" name="Approved">
      <bpmn:incoming>Flow_1h4xw7w</bpmn:incoming>
      <bpmn:incoming>Flow_1473pth</bpmn:incoming>
      <bpmn:outgoing>Flow_0jbzitx</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gateway_0r6tos5" name="Accepted?">
      <bpmn:incoming>Flow_17l63br</bpmn:incoming>
      <bpmn:outgoing>Flow_0v3fr6j</bpmn:outgoing>
      <bpmn:outgoing>Flow_1h4xw7w</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="Event_11v4h2s">
      <bpmn:incoming>Flow_1u7t079</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:task id="Activity_0ehak7s" name="Inform Manager">
      <bpmn:incoming>Flow_0fybl6b</bpmn:incoming>
      <bpmn:outgoing>Flow_1u7t079</bpmn:outgoing>
    </bpmn:task>
    <bpmn:userTask id="Activity_1u566xw" name="Checks Application">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="accepted" label="Do you accept this application?" type="boolean" defaultValue="accepted" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_18pw6wq</bpmn:incoming>
      <bpmn:incoming>Flow_0r2l7ob</bpmn:incoming>
      <bpmn:outgoing>Flow_17l63br</bpmn:outgoing>
      <bpmn:outgoing>Flow_0fybl6b</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:callActivity id="document_request_process" name="Document Request Process" calledElement="">
      <bpmn:incoming>Flow_1dwry0d</bpmn:incoming>
      <bpmn:outgoing>Flow_18pw6wq</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:businessRuleTask id="risk_rating_dmn" name="Determine Riskgroup" camunda:resultVariable="riskLevel" camunda:decisionRef="risk_rating_dmn" camunda:mapDecisionResult="singleEntry" camunda:decisionRefTenantId="">
      <bpmn:incoming>Flow_0rqvoq5</bpmn:incoming>
      <bpmn:outgoing>Flow_133t1wd</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:exclusiveGateway id="Gateway_1q4fgbf" name="Risk Rating">
      <bpmn:incoming>Flow_133t1wd</bpmn:incoming>
      <bpmn:outgoing>Flow_012lagy</bpmn:outgoing>
      <bpmn:outgoing>Flow_1473pth</bpmn:outgoing>
      <bpmn:outgoing>Flow_0r2l7ob</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="Event_1sjz3ik">
      <bpmn:incoming>Flow_1ns6heq</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:endEvent id="Event_1v4o633">
      <bpmn:incoming>Flow_1kcjudo</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:startEvent id="Event_0kxje99" name="Insurance Application Recieved">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="car_answer" label="What Car are you interested in?" type="string" defaultValue="Car Name">
            <camunda:properties />
            <camunda:validation />
          </camunda:formField>
          <camunda:formField id="model_answer" label="Any Specfic Model of the Car?" type="string" defaultValue="Car Model" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_0rqvoq5</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:boundaryEvent id="Event_1lytdl6" name="Application takes longer than 2 days" cancelActivity="false" attachedToRef="Activity_1u566xw">
      <bpmn:timerEventDefinition id="TimerEventDefinition_1phm3k1">
        <bpmn:timeCycle xsi:type="bpmn:tFormalExpression">R/P2D</bpmn:timeCycle>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Event_02qtdl6" name="Document needed" attachedToRef="Activity_1u566xw">
      <bpmn:outgoing>Flow_1dwry0d</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1xm7utd" messageRef="Message_0rr8thj" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_1p86iiy" sourceRef="Activity_09w6bed" targetRef="Activity_1gz7vk2" />
    <bpmn:sequenceFlow id="Flow_1ns6heq" sourceRef="Activity_1gz7vk2" targetRef="Event_1sjz3ik" />
    <bpmn:sequenceFlow id="Flow_0jbzitx" sourceRef="Activity_0x4zhym" targetRef="Activity_1bnitip" />
    <bpmn:sequenceFlow id="Flow_1kcjudo" sourceRef="Activity_1bnitip" targetRef="Event_1v4o633" />
    <bpmn:sequenceFlow id="Flow_0v3fr6j" name="No" sourceRef="Gateway_0r6tos5" targetRef="Activity_09w6bed">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${accepted == "no"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_012lagy" name="Red" sourceRef="Gateway_1q4fgbf" targetRef="Activity_09w6bed">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${rating == "red"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1h4xw7w" name="Yes" sourceRef="Gateway_0r6tos5" targetRef="Activity_0x4zhym">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${accepted == "yes"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1473pth" name="Green" sourceRef="Gateway_1q4fgbf" targetRef="Activity_0x4zhym">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${rating == "green"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_17l63br" sourceRef="Activity_1u566xw" targetRef="Gateway_0r6tos5" />
    <bpmn:sequenceFlow id="Flow_1u7t079" sourceRef="Activity_0ehak7s" targetRef="Event_11v4h2s" />
    <bpmn:sequenceFlow id="Flow_0fybl6b" sourceRef="Activity_1u566xw" targetRef="Activity_0ehak7s" />
    <bpmn:sequenceFlow id="Flow_18pw6wq" sourceRef="document_request_process" targetRef="Activity_1u566xw" />
    <bpmn:sequenceFlow id="Flow_0r2l7ob" name="Yellow" sourceRef="Gateway_1q4fgbf" targetRef="Activity_1u566xw">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${rating == "yellow"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1dwry0d" sourceRef="Event_02qtdl6" targetRef="document_request_process" />
    <bpmn:sequenceFlow id="Flow_0rqvoq5" sourceRef="Event_0kxje99" targetRef="risk_rating_dmn" />
    <bpmn:sequenceFlow id="Flow_133t1wd" sourceRef="risk_rating_dmn" targetRef="Gateway_1q4fgbf" />
  </bpmn:process>
  <bpmn:message id="Message_0rr8thj" name="PolicyApprovedMessage" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="insurance_process">
      <bpmndi:BPMNShape id="BPMNShape_09f83kr" bpmnElement="Activity_1gz7vk2">
        <dc:Bounds x="1070" y="510" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_094m4vx" bpmnElement="Activity_1bnitip">
        <dc:Bounds x="1070" y="90" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_04d5bgu" bpmnElement="Activity_09w6bed">
        <dc:Bounds x="890" y="510" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0dx3fhb" bpmnElement="Activity_0x4zhym">
        <dc:Bounds x="890" y="90" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1hqgln2" bpmnElement="Gateway_0r6tos5" isMarkerVisible="true">
        <dc:Bounds x="915" y="275" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="974" y="293" width="52" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1t4rmgc" bpmnElement="Event_11v4h2s">
        <dc:Bounds x="792" y="172" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_03bmp7l" bpmnElement="Activity_0ehak7s">
        <dc:Bounds x="590" y="150" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1ogdws8" bpmnElement="Activity_1u566xw">
        <dc:Bounds x="590" y="260" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_00hdtxn" bpmnElement="document_request_process">
        <dc:Bounds x="700" y="410" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0vb1m5h" bpmnElement="risk_rating_dmn">
        <dc:Bounds x="310" y="90" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0rgbpp4" bpmnElement="Gateway_1q4fgbf" isMarkerVisible="true">
        <dc:Bounds x="495" y="105" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="492" y="83" width="57" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0jqguxv" bpmnElement="Event_1sjz3ik">
        <dc:Bounds x="1252" y="532" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0fvgkjy" bpmnElement="Event_1v4o633">
        <dc:Bounds x="1252" y="112" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0y8bemt" bpmnElement="Event_0kxje99">
        <dc:Bounds x="192" y="112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="183" y="155" width="54" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1hsllbt" bpmnElement="Event_1lytdl6">
        <dc:Bounds x="622" y="242" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="703" y="230" width="84" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1rv0zdl" bpmnElement="Event_02qtdl6">
        <dc:Bounds x="672" y="322" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="755" y="383" width="90" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_1obrswb" bpmnElement="Flow_1p86iiy">
        <di:waypoint x="990" y="550" />
        <di:waypoint x="1070" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1k71sls" bpmnElement="Flow_1ns6heq">
        <di:waypoint x="1170" y="550" />
        <di:waypoint x="1252" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1m2yrxh" bpmnElement="Flow_0jbzitx">
        <di:waypoint x="990" y="130" />
        <di:waypoint x="1070" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1j9bi8a" bpmnElement="Flow_1kcjudo">
        <di:waypoint x="1170" y="130" />
        <di:waypoint x="1252" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1tzbi56" bpmnElement="Flow_0v3fr6j">
        <di:waypoint x="940" y="325" />
        <di:waypoint x="940" y="510" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="952" y="396" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0w5u3jc" bpmnElement="Flow_012lagy">
        <di:waypoint x="520" y="155" />
        <di:waypoint x="520" y="550" />
        <di:waypoint x="890" y="550" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="589" y="533" width="21" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1g7j14b" bpmnElement="Flow_1h4xw7w">
        <di:waypoint x="940" y="275" />
        <di:waypoint x="940" y="170" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="951" y="225" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_14erijh" bpmnElement="Flow_1473pth">
        <di:waypoint x="545" y="130" />
        <di:waypoint x="890" y="130" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="584" y="112" width="31" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1ngkx6i" bpmnElement="Flow_17l63br">
        <di:waypoint x="690" y="300" />
        <di:waypoint x="915" y="300" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1quqpq9" bpmnElement="Flow_1u7t079">
        <di:waypoint x="690" y="190" />
        <di:waypoint x="792" y="190" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1gng3wq" bpmnElement="Flow_0fybl6b">
        <di:waypoint x="640" y="260" />
        <di:waypoint x="640" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1gueiyt" bpmnElement="Flow_18pw6wq">
        <di:waypoint x="700" y="450" />
        <di:waypoint x="640" y="450" />
        <di:waypoint x="640" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_09dmada" bpmnElement="Flow_0r2l7ob">
        <di:waypoint x="520" y="155" />
        <di:waypoint x="520" y="300" />
        <di:waypoint x="590" y="300" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="534" y="273" width="32" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_0v29epp" bpmnElement="Flow_1dwry0d">
        <di:waypoint x="708" y="340" />
        <di:waypoint x="750" y="340" />
        <di:waypoint x="750" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_1rzg8br" bpmnElement="Flow_0rqvoq5">
        <di:waypoint x="228" y="130" />
        <di:waypoint x="310" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="BPMNEdge_14iva5a" bpmnElement="Flow_133t1wd">
        <di:waypoint x="410" y="130" />
        <di:waypoint x="495" y="130" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
